machine:
  environment:
    SBT_OPTS: "-Xms512M -Xss1M -Xmx4G -XX:MaxPermSize=4G -XX:+CMSClassUnloadingEnabled -XX:MaxPermSize=256M -XX:+UseConcMarkSweepGC"
    SBT_VERSION: 0.13.12
  java:
    version: oraclejdk8

dependencies:
  override:
    - sbt update # remove 'play update'
  pre:
    - sbt about
  cache_directories:
    - "~/.ivy2"
    - "~/.sbt"

test:
  override:
    - export SKIP_WHEN_TRAVIS=yes; sbt -Dspark.version=2.0.2 -Dscala.version=2.11.8 -Dspark.resolver.search=false clean test
    - export SKIP_WHEN_TRAVIS=yes; sbt -Dspark.version=2.1.1 -Dscala.version=2.11.8 -Dspark.resolver.search=false clean test
